{
  "id": "8003dae4-540b-45c7-bfcc-00b56e9d013a",
  "prevId": "4a6fbe73-1588-40ae-9302-2634c8872d5d",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "provider": {
          "name": "provider",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "provider_account_id": {
          "name": "provider_account_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "refresh_token": {
          "name": "refresh_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_token": {
          "name": "access_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "expires_at": {
          "name": "expires_at",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "token_type": {
          "name": "token_type",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "scope": {
          "name": "scope",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "id_token": {
          "name": "id_token",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "session_state": {
          "name": "session_state",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "account_user_id_idx": {
          "name": "account_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "account_user_id_user_id_fk": {
          "name": "account_user_id_user_id_fk",
          "tableFrom": "account",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {
        "account_provider_provider_account_id_pk": {
          "name": "account_provider_provider_account_id_pk",
          "columns": [
            "provider",
            "provider_account_id"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_communication_log": {
      "name": "agent_communication_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "source_agent_id": {
          "name": "source_agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_agent_id": {
          "name": "target_agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "operation_type": {
          "name": "operation_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "request_data": {
          "name": "request_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "response_data": {
          "name": "response_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "operation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "duration_ms": {
          "name": "duration_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tokens_used": {
          "name": "tokens_used",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "encrypted": {
          "name": "encrypted",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "data_classification": {
          "name": "data_classification",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'internal'"
        },
        "error_code": {
          "name": "error_code",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "retry_count": {
          "name": "retry_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_comm_source_idx": {
          "name": "agent_comm_source_idx",
          "columns": [
            {
              "expression": "source_agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_comm_target_idx": {
          "name": "agent_comm_target_idx",
          "columns": [
            {
              "expression": "target_agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_comm_tenant_idx": {
          "name": "agent_comm_tenant_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_comm_user_idx": {
          "name": "agent_comm_user_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_comm_operation_idx": {
          "name": "agent_comm_operation_idx",
          "columns": [
            {
              "expression": "operation_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_comm_status_idx": {
          "name": "agent_comm_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_comm_timestamp_idx": {
          "name": "agent_comm_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_communication_log_source_agent_id_agent_registry_id_fk": {
          "name": "agent_communication_log_source_agent_id_agent_registry_id_fk",
          "tableFrom": "agent_communication_log",
          "tableTo": "agent_registry",
          "columnsFrom": [
            "source_agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_communication_log_target_agent_id_agent_registry_id_fk": {
          "name": "agent_communication_log_target_agent_id_agent_registry_id_fk",
          "tableFrom": "agent_communication_log",
          "tableTo": "agent_registry",
          "columnsFrom": [
            "target_agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_communication_log_tenant_id_tenants_id_fk": {
          "name": "agent_communication_log_tenant_id_tenants_id_fk",
          "tableFrom": "agent_communication_log",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_communication_log_user_id_user_id_fk": {
          "name": "agent_communication_log_user_id_user_id_fk",
          "tableFrom": "agent_communication_log",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_health_metrics": {
      "name": "agent_health_metrics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "response_time": {
          "name": "response_time",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error_rate": {
          "name": "error_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "success_rate": {
          "name": "success_rate",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "requests_per_minute": {
          "name": "requests_per_minute",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "avg_tokens_per_request": {
          "name": "avg_tokens_per_request",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "memory_usage_mb": {
          "name": "memory_usage_mb",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "cpu_usage_percent": {
          "name": "cpu_usage_percent",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "uptime_seconds": {
          "name": "uptime_seconds",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "last_health_check": {
          "name": "last_health_check",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "last_error": {
          "name": "last_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_error_at": {
          "name": "last_error_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "encryption_status": {
          "name": "encryption_status",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "audit_compliance": {
          "name": "audit_compliance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "data_retention_compliance": {
          "name": "data_retention_compliance",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_health_agent_id_idx": {
          "name": "agent_health_agent_id_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_health_tenant_id_idx": {
          "name": "agent_health_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_health_status_idx": {
          "name": "agent_health_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_health_timestamp_idx": {
          "name": "agent_health_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_health_metrics_agent_id_agent_registry_id_fk": {
          "name": "agent_health_metrics_agent_id_agent_registry_id_fk",
          "tableFrom": "agent_health_metrics",
          "tableTo": "agent_registry",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_health_metrics_tenant_id_tenants_id_fk": {
          "name": "agent_health_metrics_tenant_id_tenants_id_fk",
          "tableFrom": "agent_health_metrics",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_registry": {
      "name": "agent_registry",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "agent_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0.0'"
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base_route": {
          "name": "base_route",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "api_endpoint": {
          "name": "api_endpoint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "health_check_endpoint": {
          "name": "health_check_endpoint",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "capabilities": {
          "name": "capabilities",
          "type": "agent_capability[]",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "dependencies": {
          "name": "dependencies",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "interface_schema": {
          "name": "interface_schema",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "default_config": {
          "name": "default_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true,
          "default": "'{}'"
        },
        "resource_limits": {
          "name": "resource_limits",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "security_level": {
          "name": "security_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "status": {
          "name": "status",
          "type": "agent_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_core": {
          "name": "is_core",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "maintenance_mode": {
          "name": "maintenance_mode",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "compliance_frameworks": {
          "name": "compliance_frameworks",
          "type": "compliance_framework[]",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "audit_level": {
          "name": "audit_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "data_retention_days": {
          "name": "data_retention_days",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 365
        },
        "icon": {
          "name": "icon",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Bot'"
        },
        "color": {
          "name": "color",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'blue'"
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "documentation": {
          "name": "documentation",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_registry_type_idx": {
          "name": "agent_registry_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_registry_status_idx": {
          "name": "agent_registry_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_registry_is_core_idx": {
          "name": "agent_registry_is_core_idx",
          "columns": [
            {
              "expression": "is_core",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_registry_security_level_idx": {
          "name": "agent_registry_security_level_idx",
          "columns": [
            {
              "expression": "security_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.agent_security_events": {
      "name": "agent_security_events",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "severity": {
          "name": "severity",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "source_ip": {
          "name": "source_ip",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "request_path": {
          "name": "request_path",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "request_data": {
          "name": "request_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "blocked": {
          "name": "blocked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "resolved": {
          "name": "resolved",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "resolved_by": {
          "name": "resolved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "resolved_at": {
          "name": "resolved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "resolution_notes": {
          "name": "resolution_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "compliance_framework": {
          "name": "compliance_framework",
          "type": "compliance_framework",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "risk_score": {
          "name": "risk_score",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "reported_to_authorities": {
          "name": "reported_to_authorities",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "agent_security_agent_id_idx": {
          "name": "agent_security_agent_id_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_security_tenant_id_idx": {
          "name": "agent_security_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_security_event_type_idx": {
          "name": "agent_security_event_type_idx",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_security_severity_idx": {
          "name": "agent_security_severity_idx",
          "columns": [
            {
              "expression": "severity",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_security_resolved_idx": {
          "name": "agent_security_resolved_idx",
          "columns": [
            {
              "expression": "resolved",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "agent_security_timestamp_idx": {
          "name": "agent_security_timestamp_idx",
          "columns": [
            {
              "expression": "timestamp",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "agent_security_events_agent_id_agent_registry_id_fk": {
          "name": "agent_security_events_agent_id_agent_registry_id_fk",
          "tableFrom": "agent_security_events",
          "tableTo": "agent_registry",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "agent_security_events_tenant_id_tenants_id_fk": {
          "name": "agent_security_events_tenant_id_tenants_id_fk",
          "tableFrom": "agent_security_events",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "agent_security_events_user_id_user_id_fk": {
          "name": "agent_security_events_user_id_user_id_fk",
          "tableFrom": "agent_security_events",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "agent_security_events_resolved_by_user_id_fk": {
          "name": "agent_security_events_resolved_by_user_id_fk",
          "tableFrom": "agent_security_events",
          "tableTo": "user",
          "columnsFrom": [
            "resolved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.analytics": {
      "name": "analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "event_type": {
          "name": "event_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "event_data": {
          "name": "event_data",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "analytics_tenant_id_idx": {
          "name": "analytics_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analytics_event_type_idx": {
          "name": "analytics_event_type_idx",
          "columns": [
            {
              "expression": "event_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "analytics_created_at_idx": {
          "name": "analytics_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "analytics_tenant_id_tenants_id_fk": {
          "name": "analytics_tenant_id_tenants_id_fk",
          "tableFrom": "analytics",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "analytics_user_id_user_id_fk": {
          "name": "analytics_user_id_user_id_fk",
          "tableFrom": "analytics",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_messages": {
      "name": "chat_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "chat_messages_session_id_idx": {
          "name": "chat_messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "chat_messages_created_at_idx": {
          "name": "chat_messages_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_messages_session_id_chat_sessions_id_fk": {
          "name": "chat_messages_session_id_chat_sessions_id_fk",
          "tableFrom": "chat_messages",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_session_personas": {
      "name": "chat_session_personas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "persona_id": {
          "name": "persona_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "chat_session_personas_session_id_idx": {
          "name": "chat_session_personas_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "chat_session_personas_persona_id_idx": {
          "name": "chat_session_personas_persona_id_idx",
          "columns": [
            {
              "expression": "persona_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_session_personas_session_id_chat_sessions_id_fk": {
          "name": "chat_session_personas_session_id_chat_sessions_id_fk",
          "tableFrom": "chat_session_personas",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_session_personas_persona_id_personas_id_fk": {
          "name": "chat_session_personas_persona_id_personas_id_fk",
          "tableFrom": "chat_session_personas",
          "tableTo": "personas",
          "columnsFrom": [
            "persona_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.chat_sessions": {
      "name": "chat_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_bookmarked": {
          "name": "is_bookmarked",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "chat_sessions_tenant_id_idx": {
          "name": "chat_sessions_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "chat_sessions_user_id_idx": {
          "name": "chat_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "chat_sessions_is_bookmarked_idx": {
          "name": "chat_sessions_is_bookmarked_idx",
          "columns": [
            {
              "expression": "is_bookmarked",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "chat_sessions_tenant_id_tenants_id_fk": {
          "name": "chat_sessions_tenant_id_tenants_id_fk",
          "tableFrom": "chat_sessions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "chat_sessions_user_id_user_id_fk": {
          "name": "chat_sessions_user_id_user_id_fk",
          "tableFrom": "chat_sessions",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.custom_collections": {
      "name": "custom_collections",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color": {
          "name": "color",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "default": "'bg-indigo-50 border-indigo-200 text-indigo-700'"
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "custom_collections_tenant_id_idx": {
          "name": "custom_collections_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "custom_collections_created_by_idx": {
          "name": "custom_collections_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "custom_collections_tenant_id_tenants_id_fk": {
          "name": "custom_collections_tenant_id_tenants_id_fk",
          "tableFrom": "custom_collections",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "custom_collections_created_by_user_id_fk": {
          "name": "custom_collections_created_by_user_id_fk",
          "tableFrom": "custom_collections",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_collection_assignments": {
      "name": "document_collection_assignments",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "collection_id": {
          "name": "collection_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "assigned_by": {
          "name": "assigned_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "doc_collection_assignments_doc_id_idx": {
          "name": "doc_collection_assignments_doc_id_idx",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_collection_assignments_collection_id_idx": {
          "name": "doc_collection_assignments_collection_id_idx",
          "columns": [
            {
              "expression": "collection_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_collection_unique_assignment": {
          "name": "doc_collection_unique_assignment",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "collection_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_collection_assignments_document_id_documents_id_fk": {
          "name": "document_collection_assignments_document_id_documents_id_fk",
          "tableFrom": "document_collection_assignments",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_collection_assignments_collection_id_custom_collections_id_fk": {
          "name": "document_collection_assignments_collection_id_custom_collections_id_fk",
          "tableFrom": "document_collection_assignments",
          "tableTo": "custom_collections",
          "columnsFrom": [
            "collection_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "document_collection_assignments_assigned_by_user_id_fk": {
          "name": "document_collection_assignments_assigned_by_user_id_fk",
          "tableFrom": "document_collection_assignments",
          "tableTo": "user",
          "columnsFrom": [
            "assigned_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.document_tags": {
      "name": "document_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tag": {
          "name": "tag",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "doc_tags_document_id_idx": {
          "name": "doc_tags_document_id_idx",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_tags_tag_idx": {
          "name": "doc_tags_tag_idx",
          "columns": [
            {
              "expression": "tag",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "doc_tags_unique": {
          "name": "doc_tags_unique",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tag",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "document_tags_document_id_documents_id_fk": {
          "name": "document_tags_document_id_documents_id_fk",
          "tableFrom": "document_tags",
          "tableTo": "documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.documents": {
      "name": "documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_type": {
          "name": "file_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "chunk_index": {
          "name": "chunk_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "uploaded_by": {
          "name": "uploaded_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "documents_tenant_id_idx": {
          "name": "documents_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "documents_uploaded_by_idx": {
          "name": "documents_uploaded_by_idx",
          "columns": [
            {
              "expression": "uploaded_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "documents_is_active_idx": {
          "name": "documents_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "documents_embedding_idx": {
          "name": "documents_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {}
        }
      },
      "foreignKeys": {
        "documents_tenant_id_tenants_id_fk": {
          "name": "documents_tenant_id_tenants_id_fk",
          "tableFrom": "documents",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "documents_uploaded_by_user_id_fk": {
          "name": "documents_uploaded_by_user_id_fk",
          "tableFrom": "documents",
          "tableTo": "user",
          "columnsFrom": [
            "uploaded_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.feedback": {
      "name": "feedback",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "message_id": {
          "name": "message_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "feedback_message_id_idx": {
          "name": "feedback_message_id_idx",
          "columns": [
            {
              "expression": "message_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "feedback_user_id_idx": {
          "name": "feedback_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "feedback_message_id_chat_messages_id_fk": {
          "name": "feedback_message_id_chat_messages_id_fk",
          "tableFrom": "feedback",
          "tableTo": "chat_messages",
          "columnsFrom": [
            "message_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "feedback_user_id_user_id_fk": {
          "name": "feedback_user_id_user_id_fk",
          "tableFrom": "feedback",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.global_user_roles": {
      "name": "global_user_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "global_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "global_user_roles_user_id_idx": {
          "name": "global_user_roles_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "global_user_roles_user_id_user_id_fk": {
          "name": "global_user_roles_user_id_user_id_fk",
          "tableFrom": "global_user_roles",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "global_user_roles_user_id_unique": {
          "name": "global_user_roles_user_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "user_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.kb_bulk_operations": {
      "name": "kb_bulk_operations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "operation_type": {
          "name": "operation_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_ids": {
          "name": "tenant_ids",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "configuration": {
          "name": "configuration",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "processed_count": {
          "name": "processed_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_count": {
          "name": "total_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_log": {
          "name": "error_log",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "kb_bulk_ops_status_idx": {
          "name": "kb_bulk_ops_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "kb_bulk_ops_created_by_idx": {
          "name": "kb_bulk_ops_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "kb_bulk_ops_created_at_idx": {
          "name": "kb_bulk_ops_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "kb_bulk_operations_template_id_kb_connection_templates_id_fk": {
          "name": "kb_bulk_operations_template_id_kb_connection_templates_id_fk",
          "tableFrom": "kb_bulk_operations",
          "tableTo": "kb_connection_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "kb_bulk_operations_created_by_user_id_fk": {
          "name": "kb_bulk_operations_created_by_user_id_fk",
          "tableFrom": "kb_bulk_operations",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.kb_connection_templates": {
      "name": "kb_connection_templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "default_weight": {
          "name": "default_weight",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "default_access_level": {
          "name": "default_access_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'read'"
        },
        "include_tags": {
          "name": "include_tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_tags": {
          "name": "exclude_tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_system_template": {
          "name": "is_system_template",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "kb_templates_name_idx": {
          "name": "kb_templates_name_idx",
          "columns": [
            {
              "expression": "name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "kb_templates_created_by_idx": {
          "name": "kb_templates_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "kb_connection_templates_created_by_user_id_fk": {
          "name": "kb_connection_templates_created_by_user_id_fk",
          "tableFrom": "kb_connection_templates",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.knowledge_base_references": {
      "name": "knowledge_base_references",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "source_tenant_id": {
          "name": "source_tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "target_tenant_id": {
          "name": "target_tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_level": {
          "name": "access_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'read'"
        },
        "include_tags": {
          "name": "include_tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_tags": {
          "name": "exclude_tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "include_document_types": {
          "name": "include_document_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_document_types": {
          "name": "exclude_document_types",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "weight": {
          "name": "weight",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "max_results": {
          "name": "max_results",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 5
        },
        "min_similarity": {
          "name": "min_similarity",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0.1
        },
        "status": {
          "name": "status",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auto_approve": {
          "name": "auto_approve",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "requires_review": {
          "name": "requires_review",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "expires_at": {
          "name": "expires_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "rejected_by": {
          "name": "rejected_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "rejection_reason": {
          "name": "rejection_reason",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "kb_refs_source_tenant_idx": {
          "name": "kb_refs_source_tenant_idx",
          "columns": [
            {
              "expression": "source_tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "kb_refs_target_tenant_idx": {
          "name": "kb_refs_target_tenant_idx",
          "columns": [
            {
              "expression": "target_tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "kb_refs_status_idx": {
          "name": "kb_refs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "kb_refs_template_idx": {
          "name": "kb_refs_template_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "kb_refs_unique_active": {
          "name": "kb_refs_unique_active",
          "columns": [
            {
              "expression": "source_tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "knowledge_base_references_source_tenant_id_tenants_id_fk": {
          "name": "knowledge_base_references_source_tenant_id_tenants_id_fk",
          "tableFrom": "knowledge_base_references",
          "tableTo": "tenants",
          "columnsFrom": [
            "source_tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_base_references_target_tenant_id_tenants_id_fk": {
          "name": "knowledge_base_references_target_tenant_id_tenants_id_fk",
          "tableFrom": "knowledge_base_references",
          "tableTo": "tenants",
          "columnsFrom": [
            "target_tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "knowledge_base_references_template_id_kb_connection_templates_id_fk": {
          "name": "knowledge_base_references_template_id_kb_connection_templates_id_fk",
          "tableFrom": "knowledge_base_references",
          "tableTo": "kb_connection_templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "knowledge_base_references_created_by_user_id_fk": {
          "name": "knowledge_base_references_created_by_user_id_fk",
          "tableFrom": "knowledge_base_references",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "knowledge_base_references_approved_by_user_id_fk": {
          "name": "knowledge_base_references_approved_by_user_id_fk",
          "tableFrom": "knowledge_base_references",
          "tableTo": "user",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "knowledge_base_references_rejected_by_user_id_fk": {
          "name": "knowledge_base_references_rejected_by_user_id_fk",
          "tableFrom": "knowledge_base_references",
          "tableTo": "user",
          "columnsFrom": [
            "rejected_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.personas": {
      "name": "personas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "personas_tenant_id_idx": {
          "name": "personas_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "personas_created_by_idx": {
          "name": "personas_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "personas_is_active_idx": {
          "name": "personas_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "personas_tenant_id_tenants_id_fk": {
          "name": "personas_tenant_id_tenants_id_fk",
          "tableFrom": "personas",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "personas_created_by_user_id_fk": {
          "name": "personas_created_by_user_id_fk",
          "tableFrom": "personas",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prompts": {
      "name": "prompts",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "default": "'general'"
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "is_public": {
          "name": "is_public",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "usage_count": {
          "name": "usage_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "prompts_tenant_id_idx": {
          "name": "prompts_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompts_created_by_idx": {
          "name": "prompts_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompts_category_idx": {
          "name": "prompts_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompts_is_public_idx": {
          "name": "prompts_is_public_idx",
          "columns": [
            {
              "expression": "is_public",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prompts_is_active_idx": {
          "name": "prompts_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prompts_tenant_id_tenants_id_fk": {
          "name": "prompts_tenant_id_tenants_id_fk",
          "tableFrom": "prompts",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "prompts_created_by_user_id_fk": {
          "name": "prompts_created_by_user_id_fk",
          "tableFrom": "prompts",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reference_usage_analytics": {
      "name": "reference_usage_analytics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "reference_id": {
          "name": "reference_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "query_session_id": {
          "name": "query_session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "documents_retrieved": {
          "name": "documents_retrieved",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "relevance_score": {
          "name": "relevance_score",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "used_in_response": {
          "name": "used_in_response",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "response_quality": {
          "name": "response_quality",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "query_time_ms": {
          "name": "query_time_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "cache_hit": {
          "name": "cache_hit",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "query_text": {
          "name": "query_text",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "ref_usage_reference_id_idx": {
          "name": "ref_usage_reference_id_idx",
          "columns": [
            {
              "expression": "reference_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ref_usage_created_at_idx": {
          "name": "ref_usage_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "ref_usage_response_quality_idx": {
          "name": "ref_usage_response_quality_idx",
          "columns": [
            {
              "expression": "response_quality",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reference_usage_analytics_reference_id_knowledge_base_references_id_fk": {
          "name": "reference_usage_analytics_reference_id_knowledge_base_references_id_fk",
          "tableFrom": "reference_usage_analytics",
          "tableTo": "knowledge_base_references",
          "columnsFrom": [
            "reference_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reference_usage_analytics_query_session_id_chat_sessions_id_fk": {
          "name": "reference_usage_analytics_query_session_id_chat_sessions_id_fk",
          "tableFrom": "reference_usage_analytics",
          "tableTo": "chat_sessions",
          "columnsFrom": [
            "query_session_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "reference_usage_analytics_user_id_user_id_fk": {
          "name": "reference_usage_analytics_user_id_user_id_fk",
          "tableFrom": "reference_usage_analytics",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.session": {
      "name": "session",
      "schema": "",
      "columns": {
        "session_token": {
          "name": "session_token",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {
        "session_user_id_idx": {
          "name": "session_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "session_user_id_user_id_fk": {
          "name": "session_user_id_user_id_fk",
          "tableFrom": "session",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.template_downloads": {
      "name": "template_downloads",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "downloaded_at": {
          "name": "downloaded_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "template_downloads_template_id_idx": {
          "name": "template_downloads_template_id_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_downloads_user_id_idx": {
          "name": "template_downloads_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_downloads_tenant_id_idx": {
          "name": "template_downloads_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_downloads_downloaded_at_idx": {
          "name": "template_downloads_downloaded_at_idx",
          "columns": [
            {
              "expression": "downloaded_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "template_downloads_template_id_templates_id_fk": {
          "name": "template_downloads_template_id_templates_id_fk",
          "tableFrom": "template_downloads",
          "tableTo": "templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "template_downloads_user_id_user_id_fk": {
          "name": "template_downloads_user_id_user_id_fk",
          "tableFrom": "template_downloads",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "template_downloads_tenant_id_tenants_id_fk": {
          "name": "template_downloads_tenant_id_tenants_id_fk",
          "tableFrom": "template_downloads",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.template_ratings": {
      "name": "template_ratings",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "rating": {
          "name": "rating",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "comment": {
          "name": "comment",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "template_ratings_template_id_idx": {
          "name": "template_ratings_template_id_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_ratings_user_id_idx": {
          "name": "template_ratings_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_ratings_unique_idx": {
          "name": "template_ratings_unique_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "template_ratings_template_id_templates_id_fk": {
          "name": "template_ratings_template_id_templates_id_fk",
          "tableFrom": "template_ratings",
          "tableTo": "templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "template_ratings_user_id_user_id_fk": {
          "name": "template_ratings_user_id_user_id_fk",
          "tableFrom": "template_ratings",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.template_submissions": {
      "name": "template_submissions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "template_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'document'"
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_type": {
          "name": "file_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "version": {
          "name": "version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0.0'"
        },
        "version_notes": {
          "name": "version_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "access_level": {
          "name": "access_level",
          "type": "template_access",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'public'"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "template_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "submission_notes": {
          "name": "submission_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "review_notes": {
          "name": "review_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_by": {
          "name": "submitted_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "reviewed_by": {
          "name": "reviewed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "reviewed_at": {
          "name": "reviewed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "submitted_at": {
          "name": "submitted_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "template_submissions_template_id_idx": {
          "name": "template_submissions_template_id_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_submissions_status_idx": {
          "name": "template_submissions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_submissions_category_idx": {
          "name": "template_submissions_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_submissions_submitted_by_idx": {
          "name": "template_submissions_submitted_by_idx",
          "columns": [
            {
              "expression": "submitted_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_submissions_reviewed_by_idx": {
          "name": "template_submissions_reviewed_by_idx",
          "columns": [
            {
              "expression": "reviewed_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_submissions_submitted_at_idx": {
          "name": "template_submissions_submitted_at_idx",
          "columns": [
            {
              "expression": "submitted_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "template_submissions_template_id_templates_id_fk": {
          "name": "template_submissions_template_id_templates_id_fk",
          "tableFrom": "template_submissions",
          "tableTo": "templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "template_submissions_tenant_id_tenants_id_fk": {
          "name": "template_submissions_tenant_id_tenants_id_fk",
          "tableFrom": "template_submissions",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "template_submissions_submitted_by_user_id_fk": {
          "name": "template_submissions_submitted_by_user_id_fk",
          "tableFrom": "template_submissions",
          "tableTo": "user",
          "columnsFrom": [
            "submitted_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "template_submissions_reviewed_by_user_id_fk": {
          "name": "template_submissions_reviewed_by_user_id_fk",
          "tableFrom": "template_submissions",
          "tableTo": "user",
          "columnsFrom": [
            "reviewed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.template_versions": {
      "name": "template_versions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "template_id": {
          "name": "template_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "version_notes": {
          "name": "version_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "file_url": {
          "name": "file_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "file_type": {
          "name": "file_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "file_size": {
          "name": "file_size",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "file_name": {
          "name": "file_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "template_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "is_current_version": {
          "name": "is_current_version",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "template_versions_template_id_idx": {
          "name": "template_versions_template_id_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_versions_version_idx": {
          "name": "template_versions_version_idx",
          "columns": [
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_versions_status_idx": {
          "name": "template_versions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_versions_is_current_idx": {
          "name": "template_versions_is_current_idx",
          "columns": [
            {
              "expression": "is_current_version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_versions_created_by_idx": {
          "name": "template_versions_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_versions_created_at_idx": {
          "name": "template_versions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "template_versions_template_current_idx": {
          "name": "template_versions_template_current_idx",
          "columns": [
            {
              "expression": "template_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "is_current_version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "template_versions_template_id_templates_id_fk": {
          "name": "template_versions_template_id_templates_id_fk",
          "tableFrom": "template_versions",
          "tableTo": "templates",
          "columnsFrom": [
            "template_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "template_versions_created_by_user_id_fk": {
          "name": "template_versions_created_by_user_id_fk",
          "tableFrom": "template_versions",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "template_versions_approved_by_user_id_fk": {
          "name": "template_versions_approved_by_user_id_fk",
          "tableFrom": "template_versions",
          "tableTo": "user",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.templates": {
      "name": "templates",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "category": {
          "name": "category",
          "type": "template_category",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'document'"
        },
        "tags": {
          "name": "tags",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "current_version_id": {
          "name": "current_version_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "current_version": {
          "name": "current_version",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'1.0.0'"
        },
        "download_count": {
          "name": "download_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "rating": {
          "name": "rating",
          "type": "real",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "rating_count": {
          "name": "rating_count",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "access_level": {
          "name": "access_level",
          "type": "template_access",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'public'"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "approved_by": {
          "name": "approved_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "approved_at": {
          "name": "approved_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "templates_category_idx": {
          "name": "templates_category_idx",
          "columns": [
            {
              "expression": "category",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "templates_created_by_idx": {
          "name": "templates_created_by_idx",
          "columns": [
            {
              "expression": "created_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "templates_approved_by_idx": {
          "name": "templates_approved_by_idx",
          "columns": [
            {
              "expression": "approved_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "templates_access_level_idx": {
          "name": "templates_access_level_idx",
          "columns": [
            {
              "expression": "access_level",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "templates_tenant_id_idx": {
          "name": "templates_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "templates_is_active_idx": {
          "name": "templates_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "templates_rating_idx": {
          "name": "templates_rating_idx",
          "columns": [
            {
              "expression": "rating",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "templates_created_at_idx": {
          "name": "templates_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "templates_tenant_id_tenants_id_fk": {
          "name": "templates_tenant_id_tenants_id_fk",
          "tableFrom": "templates",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "templates_created_by_user_id_fk": {
          "name": "templates_created_by_user_id_fk",
          "tableFrom": "templates",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "templates_approved_by_user_id_fk": {
          "name": "templates_approved_by_user_id_fk",
          "tableFrom": "templates",
          "tableTo": "user",
          "columnsFrom": [
            "approved_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenant_agent_configs": {
      "name": "tenant_agent_configs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "agent_id": {
          "name": "agent_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "is_enabled": {
          "name": "is_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "access_level": {
          "name": "access_level",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'standard'"
        },
        "allowed_users": {
          "name": "allowed_users",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "restricted_users": {
          "name": "restricted_users",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "custom_config": {
          "name": "custom_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "resource_overrides": {
          "name": "resource_overrides",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "feature_flags": {
          "name": "feature_flags",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'"
        },
        "daily_request_limit": {
          "name": "daily_request_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "monthly_request_limit": {
          "name": "monthly_request_limit",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "token_quota_daily": {
          "name": "token_quota_daily",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "token_quota_monthly": {
          "name": "token_quota_monthly",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "encryption_required": {
          "name": "encryption_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "auditing_required": {
          "name": "auditing_required",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "ip_whitelist": {
          "name": "ip_whitelist",
          "type": "text[]",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "tenant_agents_tenant_id_idx": {
          "name": "tenant_agents_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_agents_agent_id_idx": {
          "name": "tenant_agents_agent_id_idx",
          "columns": [
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_agents_is_enabled_idx": {
          "name": "tenant_agents_is_enabled_idx",
          "columns": [
            {
              "expression": "is_enabled",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "tenant_agents_unique": {
          "name": "tenant_agents_unique",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "agent_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "tenant_agent_configs_tenant_id_tenants_id_fk": {
          "name": "tenant_agent_configs_tenant_id_tenants_id_fk",
          "tableFrom": "tenant_agent_configs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "tenant_agent_configs_agent_id_agent_registry_id_fk": {
          "name": "tenant_agent_configs_agent_id_agent_registry_id_fk",
          "tableFrom": "tenant_agent_configs",
          "tableTo": "agent_registry",
          "columnsFrom": [
            "agent_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tenants": {
      "name": "tenants",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "slug": {
          "name": "slug",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "system_prompt": {
          "name": "system_prompt",
          "type": "text",
          "primaryKey": false,
          "notNull": false,
          "default": "'You are a helpful AI assistant with access to the knowledge base.'"
        },
        "token_cap": {
          "name": "token_cap",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2000000
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "tenants_slug_unique": {
          "name": "tenants_slug_unique",
          "nullsNotDistinct": false,
          "columns": [
            "slug"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_audit_log": {
      "name": "user_audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "performed_by": {
          "name": "performed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "target_user_id": {
          "name": "target_user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "user_audit_log_performed_by_idx": {
          "name": "user_audit_log_performed_by_idx",
          "columns": [
            {
              "expression": "performed_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_audit_log_target_user_idx": {
          "name": "user_audit_log_target_user_idx",
          "columns": [
            {
              "expression": "target_user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_audit_log_action_idx": {
          "name": "user_audit_log_action_idx",
          "columns": [
            {
              "expression": "action",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_audit_log_created_at_idx": {
          "name": "user_audit_log_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_audit_log_performed_by_user_id_fk": {
          "name": "user_audit_log_performed_by_user_id_fk",
          "tableFrom": "user_audit_log",
          "tableTo": "user",
          "columnsFrom": [
            "performed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "user_audit_log_target_user_id_user_id_fk": {
          "name": "user_audit_log_target_user_id_user_id_fk",
          "tableFrom": "user_audit_log",
          "tableTo": "user",
          "columnsFrom": [
            "target_user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user_tenant_roles": {
      "name": "user_tenant_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'viewer'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "user_tenant_roles_user_id_idx": {
          "name": "user_tenant_roles_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "user_tenant_roles_tenant_id_idx": {
          "name": "user_tenant_roles_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "user_tenant_roles_user_id_user_id_fk": {
          "name": "user_tenant_roles_user_id_user_id_fk",
          "tableFrom": "user_tenant_roles",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "user_tenant_roles_tenant_id_tenants_id_fk": {
          "name": "user_tenant_roles_tenant_id_tenants_id_fk",
          "tableFrom": "user_tenant_roles",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "varchar(255)",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email_verified": {
          "name": "email_verified",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false,
          "default": "CURRENT_TIMESTAMP"
        },
        "image": {
          "name": "image",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.verification_token": {
      "name": "verification_token",
      "schema": "",
      "columns": {
        "identifier": {
          "name": "identifier",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "token": {
          "name": "token",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "expires": {
          "name": "expires",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {
        "verification_token_identifier_token_pk": {
          "name": "verification_token_identifier_token_pk",
          "columns": [
            "identifier",
            "token"
          ]
        }
      },
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.web_analysis": {
      "name": "web_analysis",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'success'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "analyzed_by": {
          "name": "analyzed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "web_analysis_tenant_id_idx": {
          "name": "web_analysis_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_url_idx": {
          "name": "web_analysis_url_idx",
          "columns": [
            {
              "expression": "url",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_analyzed_by_idx": {
          "name": "web_analysis_analyzed_by_idx",
          "columns": [
            {
              "expression": "analyzed_by",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_status_idx": {
          "name": "web_analysis_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_created_at_idx": {
          "name": "web_analysis_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_embedding_idx": {
          "name": "web_analysis_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {}
        }
      },
      "foreignKeys": {
        "web_analysis_tenant_id_tenants_id_fk": {
          "name": "web_analysis_tenant_id_tenants_id_fk",
          "tableFrom": "web_analysis",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "web_analysis_analyzed_by_user_id_fk": {
          "name": "web_analysis_analyzed_by_user_id_fk",
          "tableFrom": "web_analysis",
          "tableTo": "user",
          "columnsFrom": [
            "analyzed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.web_analysis_changes": {
      "name": "web_analysis_changes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "document_id": {
          "name": "document_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_run_id": {
          "name": "job_run_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "change_type": {
          "name": "change_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "old_content": {
          "name": "old_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_content": {
          "name": "new_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "old_content_hash": {
          "name": "old_content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "new_content_hash": {
          "name": "new_content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "change_percentage": {
          "name": "change_percentage",
          "type": "real",
          "primaryKey": false,
          "notNull": false
        },
        "change_summary": {
          "name": "change_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "detected_at": {
          "name": "detected_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "web_analysis_changes_tenant_id_idx": {
          "name": "web_analysis_changes_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_changes_document_id_idx": {
          "name": "web_analysis_changes_document_id_idx",
          "columns": [
            {
              "expression": "document_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_changes_job_run_id_idx": {
          "name": "web_analysis_changes_job_run_id_idx",
          "columns": [
            {
              "expression": "job_run_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_changes_change_type_idx": {
          "name": "web_analysis_changes_change_type_idx",
          "columns": [
            {
              "expression": "change_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_changes_detected_at_idx": {
          "name": "web_analysis_changes_detected_at_idx",
          "columns": [
            {
              "expression": "detected_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "web_analysis_changes_tenant_id_tenants_id_fk": {
          "name": "web_analysis_changes_tenant_id_tenants_id_fk",
          "tableFrom": "web_analysis_changes",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "web_analysis_changes_document_id_web_analysis_documents_id_fk": {
          "name": "web_analysis_changes_document_id_web_analysis_documents_id_fk",
          "tableFrom": "web_analysis_changes",
          "tableTo": "web_analysis_documents",
          "columnsFrom": [
            "document_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.web_analysis_documents": {
      "name": "web_analysis_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "url": {
          "name": "url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "parent_url": {
          "name": "parent_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "summary": {
          "name": "summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "embedding": {
          "name": "embedding",
          "type": "vector(1536)",
          "primaryKey": false,
          "notNull": false
        },
        "content_hash": {
          "name": "content_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'success'"
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "depth": {
          "name": "depth",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "analyzed_by": {
          "name": "analyzed_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "web_analysis_documents_tenant_id_idx": {
          "name": "web_analysis_documents_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_documents_job_id_idx": {
          "name": "web_analysis_documents_job_id_idx",
          "columns": [
            {
              "expression": "job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_documents_url_idx": {
          "name": "web_analysis_documents_url_idx",
          "columns": [
            {
              "expression": "url",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_documents_parent_url_idx": {
          "name": "web_analysis_documents_parent_url_idx",
          "columns": [
            {
              "expression": "parent_url",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_documents_content_hash_idx": {
          "name": "web_analysis_documents_content_hash_idx",
          "columns": [
            {
              "expression": "content_hash",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_documents_version_idx": {
          "name": "web_analysis_documents_version_idx",
          "columns": [
            {
              "expression": "version",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_documents_is_active_idx": {
          "name": "web_analysis_documents_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_analysis_documents_embedding_idx": {
          "name": "web_analysis_documents_embedding_idx",
          "columns": [
            {
              "expression": "embedding",
              "isExpression": false,
              "asc": true,
              "nulls": "last",
              "opclass": "vector_cosine_ops"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "hnsw",
          "with": {}
        }
      },
      "foreignKeys": {
        "web_analysis_documents_tenant_id_tenants_id_fk": {
          "name": "web_analysis_documents_tenant_id_tenants_id_fk",
          "tableFrom": "web_analysis_documents",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "web_analysis_documents_job_id_web_scraping_jobs_id_fk": {
          "name": "web_analysis_documents_job_id_web_scraping_jobs_id_fk",
          "tableFrom": "web_analysis_documents",
          "tableTo": "web_scraping_jobs",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "web_analysis_documents_analyzed_by_user_id_fk": {
          "name": "web_analysis_documents_analyzed_by_user_id_fk",
          "tableFrom": "web_analysis_documents",
          "tableTo": "user",
          "columnsFrom": [
            "analyzed_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.web_scraping_credentials": {
      "name": "web_scraping_credentials",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "domain": {
          "name": "domain",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "auth_type": {
          "name": "auth_type",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "credentials": {
          "name": "credentials",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "web_scraping_credentials_tenant_id_idx": {
          "name": "web_scraping_credentials_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_scraping_credentials_domain_idx": {
          "name": "web_scraping_credentials_domain_idx",
          "columns": [
            {
              "expression": "domain",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_scraping_credentials_auth_type_idx": {
          "name": "web_scraping_credentials_auth_type_idx",
          "columns": [
            {
              "expression": "auth_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "web_scraping_credentials_tenant_id_tenants_id_fk": {
          "name": "web_scraping_credentials_tenant_id_tenants_id_fk",
          "tableFrom": "web_scraping_credentials",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "web_scraping_credentials_created_by_user_id_fk": {
          "name": "web_scraping_credentials_created_by_user_id_fk",
          "tableFrom": "web_scraping_credentials",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.web_scraping_job_runs": {
      "name": "web_scraping_job_runs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "job_id": {
          "name": "job_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'running'"
        },
        "started_at": {
          "name": "started_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "urls_processed": {
          "name": "urls_processed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "urls_successful": {
          "name": "urls_successful",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "urls_failed": {
          "name": "urls_failed",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "documents_created": {
          "name": "documents_created",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "documents_updated": {
          "name": "documents_updated",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "changes_detected": {
          "name": "changes_detected",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "error_message": {
          "name": "error_message",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logs": {
          "name": "logs",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "web_scraping_job_runs_tenant_id_idx": {
          "name": "web_scraping_job_runs_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_scraping_job_runs_job_id_idx": {
          "name": "web_scraping_job_runs_job_id_idx",
          "columns": [
            {
              "expression": "job_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_scraping_job_runs_status_idx": {
          "name": "web_scraping_job_runs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_scraping_job_runs_started_at_idx": {
          "name": "web_scraping_job_runs_started_at_idx",
          "columns": [
            {
              "expression": "started_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "web_scraping_job_runs_tenant_id_tenants_id_fk": {
          "name": "web_scraping_job_runs_tenant_id_tenants_id_fk",
          "tableFrom": "web_scraping_job_runs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "web_scraping_job_runs_job_id_web_scraping_jobs_id_fk": {
          "name": "web_scraping_job_runs_job_id_web_scraping_jobs_id_fk",
          "tableFrom": "web_scraping_job_runs",
          "tableTo": "web_scraping_jobs",
          "columnsFrom": [
            "job_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.web_scraping_jobs": {
      "name": "web_scraping_jobs",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "tenant_id": {
          "name": "tenant_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "base_url": {
          "name": "base_url",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "scrape_children": {
          "name": "scrape_children",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "max_depth": {
          "name": "max_depth",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 2
        },
        "include_patterns": {
          "name": "include_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "exclude_patterns": {
          "name": "exclude_patterns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "credential_id": {
          "name": "credential_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "schedule": {
          "name": "schedule",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "last_run": {
          "name": "last_run",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "next_run": {
          "name": "next_run",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'idle'"
        },
        "save_to_knowledge_base": {
          "name": "save_to_knowledge_base",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "options": {
          "name": "options",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "web_scraping_jobs_tenant_id_idx": {
          "name": "web_scraping_jobs_tenant_id_idx",
          "columns": [
            {
              "expression": "tenant_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_scraping_jobs_base_url_idx": {
          "name": "web_scraping_jobs_base_url_idx",
          "columns": [
            {
              "expression": "base_url",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_scraping_jobs_status_idx": {
          "name": "web_scraping_jobs_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_scraping_jobs_next_run_idx": {
          "name": "web_scraping_jobs_next_run_idx",
          "columns": [
            {
              "expression": "next_run",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "web_scraping_jobs_is_active_idx": {
          "name": "web_scraping_jobs_is_active_idx",
          "columns": [
            {
              "expression": "is_active",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "web_scraping_jobs_tenant_id_tenants_id_fk": {
          "name": "web_scraping_jobs_tenant_id_tenants_id_fk",
          "tableFrom": "web_scraping_jobs",
          "tableTo": "tenants",
          "columnsFrom": [
            "tenant_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "web_scraping_jobs_credential_id_web_scraping_credentials_id_fk": {
          "name": "web_scraping_jobs_credential_id_web_scraping_credentials_id_fk",
          "tableFrom": "web_scraping_jobs",
          "tableTo": "web_scraping_credentials",
          "columnsFrom": [
            "credential_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "web_scraping_jobs_created_by_user_id_fk": {
          "name": "web_scraping_jobs_created_by_user_id_fk",
          "tableFrom": "web_scraping_jobs",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.agent_capability": {
      "name": "agent_capability",
      "schema": "public",
      "values": [
        "search",
        "analyze",
        "generate",
        "validate",
        "transform",
        "integrate",
        "monitor",
        "audit"
      ]
    },
    "public.agent_status": {
      "name": "agent_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "maintenance",
        "deprecated"
      ]
    },
    "public.agent_type": {
      "name": "agent_type",
      "schema": "public",
      "values": [
        "knowledge_base",
        "business_rules",
        "testing",
        "workflow",
        "analytics"
      ]
    },
    "public.compliance_framework": {
      "name": "compliance_framework",
      "schema": "public",
      "values": [
        "SOC2",
        "GDPR",
        "HIPAA",
        "ISO27001",
        "PCI_DSS"
      ]
    },
    "public.global_role": {
      "name": "global_role",
      "schema": "public",
      "values": [
        "super_admin",
        "tenant_admin",
        "user"
      ]
    },
    "public.operation_status": {
      "name": "operation_status",
      "schema": "public",
      "values": [
        "pending",
        "running",
        "completed",
        "failed",
        "cancelled"
      ]
    },
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "viewer",
        "contributor",
        "admin"
      ]
    },
    "public.template_access": {
      "name": "template_access",
      "schema": "public",
      "values": [
        "public",
        "tenant_only",
        "creator_only",
        "admin_only"
      ]
    },
    "public.template_category": {
      "name": "template_category",
      "schema": "public",
      "values": [
        "document",
        "prompt",
        "workflow",
        "integration",
        "other"
      ]
    },
    "public.template_status": {
      "name": "template_status",
      "schema": "public",
      "values": [
        "draft",
        "pending",
        "approved",
        "rejected",
        "archived"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}